<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–ö–∞—Ç–∞–ª–æ–≥ –ø–∞–Ω–µ–ª–µ–π</title>

    <!-- üîπ –†–ê–ù–ù–ò–ô —Ö–µ–Ω–¥—à–µ–π–∫ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ VK (–∏ –¥—É–±–ª—å —á–µ—Ä–µ–∑ vk-bridge, –µ—Å–ª–∏ –æ–Ω —É–∂–µ –µ—Å—Ç—å) -->
    <script>
      (function () {
        function handshake() {
          // 1) Fallback: —Å—Ä–∞–∑—É —à–ª—ë–º —Å–æ–±—ã—Ç–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É (–¥–∞–∂–µ –µ—Å–ª–∏ vk-bridge –µ—â—ë –Ω–µ —É—Å–ø–µ–ª –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å—Å—è)
          try { window.parent && window.parent.postMessage({ type: 'VKWebAppInit' }, '*'); } catch (e) {}

          // 2) –ï—Å–ª–∏ vk-bridge —É–∂–µ –µ—Å—Ç—å ‚Äî –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
          if (window.vkBridge && typeof window.vkBridge.send === 'function') {
            try { window.vkBridge.send('VKWebAppInit'); } catch (e) {}
          }
        }

        // –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ + –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞ DOMContentLoaded
        handshake();
        document.addEventListener('DOMContentLoaded', handshake);

        // üîß –ú–∏–Ω–∏-–∫–æ–Ω—Å–æ–ª—å eruda –ø–æ ?eruda=1 –∏–ª–∏ #eruda ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –¥–µ–±–∞–≥–∞ –≤ webview
        try {
          var needEruda =
            /[?&]eruda=1/.test(location.search) ||
            /(^|#).*eruda(=1)?/i.test(location.hash);
          if (needEruda) {
            var s = document.createElement('script');
            s.src = 'https://cdn.jsdelivr.net/npm/eruda';
            s.onload = function () { try { eruda.init(); eruda.show(); } catch (_) {} };
            document.head.appendChild(s);
          }
        } catch (_) {}
      })();
    </script>

    <!-- üîπ vk-bridge –ø–æ–¥–∫–ª—é—á–∞–µ–º –û–î–ò–ù —Ä–∞–∑ -->
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js" defer></script>

    <!-- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com" defer></script>
  </head>

  <body>
    <div id="root"></div>

    <!-- üîÅ –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—Å—ë –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å, –µ—â—ë —Ä–∞–∑ —à–ª—ë–º VKWebAppInit —á–µ—Ä–µ–∑ vk-bridge (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π) -->
    <script>
      (function () {
        function initByBridge() {
          if (window.vkBridge && typeof window.vkBridge.send === 'function') {
            try { window.vkBridge.send('VKWebAppInit'); } catch (e) {}
          }
        }
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
          initByBridge();
        } else {
          document.addEventListener('DOMContentLoaded', initByBridge);
        }
        window.addEventListener('load', initByBridge);
      })();
    </script>
  </body>
</html>